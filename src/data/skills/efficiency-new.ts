import { Skill } from '@/lib/types';

export const efficiencyNewSkills: Skill[] = [
    {
        id: 'meeting-agenda-builder',
        name: '会議アジェンダ設計',
        description: '会議の目的・参加者から最適なアジェンダを自動生成。時間配分とファシリテーションポイント付き。',
        longDescription: '会議の目的と参加者を入力するだけで、最適な時間配分のアジェンダを生成します。「決めること」「共有すること」「議論すること」を分類し、ファシリテーションのポイントや事前準備の依頼文まで出力。会議の生産性を劇的に改善します。',
        category: 'バックオフィス',
        iconName: 'ListChecks',
        author: 'Eudaimonia',
        version: '1.0.0',
        content: `# 会議アジェンダ設計

## このスキルについて
会議の目的・参加者・所要時間から、最適なアジェンダを自動生成するスキルです。時間配分・ファシリテーションポイント・事前準備の依頼文までワンストップで出力します。

## 適用タイミング
ユーザーが会議のアジェンダ作成、ミーティング準備、打ち合わせの段取りを依頼したとき。

## アジェンダ設計ルール

### 議題の分類
すべての議題を以下の3タイプに分類すること。
- **決定事項**（Decision）: その場で結論を出す必要があるもの。優先度最高。
- **共有事項**（Share）: 情報伝達が目的。質疑応答の時間を短めに設定。
- **議論事項**（Discussion）: ブレストやアイデア出し。時間を多めに確保。

### 時間配分の原則
- 全体の5%: オープニング（目的の確認・アイスブレイク）
- 全体の80%: 議題（決定→共有→議論の順で配置）
- 全体の10%: まとめ・ネクストアクション確認
- 全体の5%: バッファ（延長対応用）
- 1議題あたりの最小単位は5分。5分未満の議題は統合する。
- 60分以上の会議には「休憩」を挟む提案をする。

### ファシリテーションポイント
各議題に以下を付記すること。
- 発言を求める人（「○○さんから報告」等）
- 議論が紛糾した場合の収束方法（「多数決」「持ち帰り」等）
- 時間超過時のアクション（「次回に持ち越し」「別途会議設定」等）

### 事前準備の設計
会議の効率化には事前準備が不可欠。以下を出力に含めること。
- 参加者ごとの事前準備タスク
- 事前共有すべき資料のリスト
- 参加者への案内メール文（コピペで使える形式）

## 出力フォーマット
以下の構成で出力すること。

1. **会議概要**（目的・日時・参加者・所要時間）
2. **アジェンダ表**（議題名・タイプ・担当者・時間配分・ファシリテーションポイント）
3. **事前準備リスト**（参加者別のタスク）
4. **案内メール文**（件名・本文）

## 事前確認
以下が不明な場合は作成前に確認すること。
- 会議の目的（何を達成したいか）
- 参加者（名前・役割）
- 所要時間
- 定例会議か単発かの種別`,
        tags: ['会議', 'アジェンダ', 'ファシリテーション', '時間管理', '初心者向け'],
        timeSaved: '15分/回',
        difficulty: 'かんたん',
        examples: [{
            title: '新サービスのリリース判定会議',
            context: '5名参加の60分会議。新しいオンライン予約サービスのリリース可否を決定する会議のアジェンダを作成。',
            input: '来週月曜の10時から60分で、新しいオンライン予約サービスのリリース判定会議をやります。参加者は、自分（プロジェクトリーダー）、開発の田中、デザインの佐藤、CS担当の鈴木、社長の山田です。リリース日を確定させたいです。',
            output: `## 会議概要
- **目的**: オンライン予約サービスのリリース日確定
- **日時**: 来週月曜 10:00-11:00（60分）
- **参加者**: あなた（PL）、田中（開発）、佐藤（デザイン）、鈴木（CS）、山田（社長）
- **種別**: 単発（判定会議）

---

## アジェンダ

| # | 時間 | 議題 | タイプ | 担当 | ファシリポイント |
|---|------|------|--------|------|------------------|
| 1 | 10:00-10:03（3分） | 目的の確認 | - | あなた | 「今日のゴールはリリース日の確定です」と宣言 |
| 2 | 10:03-10:13（10分） | 開発進捗と残課題の報告 | 共有 | 田中 | 残バグ件数・重大度を具体的に報告してもらう |
| 3 | 10:13-10:20（7分） | UI/UX最終確認の状況 | 共有 | 佐藤 | ユーザーテスト結果の要点を共有 |
| 4 | 10:20-10:27（7分） | CS受入体制の準備状況 | 共有 | 鈴木 | FAQ・マニュアルの整備状況を報告 |
| 5 | 10:27-10:45（18分） | リリース日の決定 | 決定 | あなた | 候補日を2-3案提示し議論。紛糾時は社長判断を仰ぐ |
| 6 | 10:45-10:53（8分） | リリースまでのタスク・担当確認 | 決定 | あなた | 各自のネクストアクションを口頭で確認 |
| 7 | 10:53-10:57（4分） | まとめ・決定事項の読み上げ | - | あなた | 議事録として決定事項を画面共有しながら確認 |
| - | 10:57-11:00（3分） | バッファ | - | - | 延長した議題があれば消化 |

---

## 事前準備リスト

| 担当者 | 事前準備 | 期限 |
|--------|----------|------|
| 田中 | 残バグ一覧と重大度ランクを共有 | 金曜中 |
| 佐藤 | ユーザーテスト結果サマリー（A4 1枚） | 金曜中 |
| 鈴木 | CS受入チェックリストの完了状況 | 金曜中 |
| あなた | リリース候補日2-3案の作成 | 金曜中 |

---

## 案内メール文

**件名**: 【来週月曜10時】オンライン予約サービス リリース判定会議のご案内

各位

お疲れさまです。○○です。

下記の通りリリース判定会議を開催します。今回の会議で**リリース日を確定**しますので、ご出席をお願いいたします。

■ 日時: ○月○日（月）10:00-11:00
■ 場所: 会議室A / Zoom（URL: ）
■ 目的: リリース日の確定

■ 事前準備のお願い
- 田中さん: 残バグ一覧と重大度ランクを金曜中に共有ください
- 佐藤さん: ユーザーテスト結果サマリーを金曜中に共有ください
- 鈴木さん: CS受入チェックリストの完了状況を金曜中に共有ください

事前資料は金曜中にSlackの #予約サービス チャンネルに投稿してください。当日は資料を読んでいる前提で進行します。

よろしくお願いいたします。`
        }],
        promptTemplate: `あなたは会議ファシリテーションの専門家です。以下の情報をもとに、会議のアジェンダを設計してください。

## 入力情報
- 会議の目的: [例: 新サービスのリリース日を確定する]
- 参加者: [例: 自分（PL）、開発の田中、デザインの佐藤、CS担当の鈴木、社長の山田]
- 所要時間: [例: 60分]
- 日時: [例: 来週月曜10:00]
- 種別: [定例会議 / 単発]
- 話し合いたいこと: [例: 各チームの進捗確認、リリース候補日の決定、残タスクの洗い出し]

## 出力形式
1. 会議概要（目的・日時・参加者）
2. アジェンダ表（議題名・タイプ（決定/共有/議論）・担当・時間配分・ファシリポイント）
3. 事前準備リスト（参加者別のタスク）
4. 案内メール文（コピペで使える形式）

## ルール
- 議題は「決定→共有→議論」の順に配置する
- 全体の5%をオープニング、80%を議題、10%をまとめ、5%をバッファに配分
- 各議題にファシリテーションポイントを付記する`,
        steps: [
            { number: 1, title: '会議の目的を明確にする', description: '「この会議で何を決めるか（または何を共有するか）」を1文で定義します' },
            { number: 2, title: 'プロンプトに情報を入力', description: '参加者、所要時間、話し合いたいことをテンプレートに記入してAIに送信します' },
            { number: 3, title: '案内メールを送付', description: '生成された案内メール文をコピーし、参加者にメールまたはSlackで送付します' },
            { number: 4, title: '会議当日にアジェンダに沿って進行', description: 'アジェンダ表を画面共有しながら、時間配分とファシリポイントを参考に進行します' },
        ],
        useCases: [
            '会議が毎回ダラダラと長引いてしまうとき',
            '参加者が「何を決める会議かわからない」まま参加していると感じるとき',
            '事前準備なしで会議に臨んでしまい、時間を無駄にしているとき',
        ],
        tips: [
            '会議の目的は「○○を決定する」のように動詞で終わるとゴールが明確になる',
            '事前資料は「読んでいる前提で進行します」と案内メールに書くだけで、実際の会議時間が半分になることもある',
            'アジェンダにバッファ時間を5%入れておくと、議論が白熱しても安心して進行できる',
        ],
    },
    {
        id: 'sop-generator',
        name: 'SOP（標準作業手順書）作成',
        description: '業務手順をヒアリングしてSOP形式に構造化。フローチャート的な分岐条件やチェックリスト付き。',
        longDescription: '口頭やメモレベルの業務手順を、誰でも再現できるSOP（標準作業手順書）に変換します。分岐条件の記述、チェックリスト、注意事項、所要時間の目安まで含めた実用的なドキュメントを生成。業務の属人化解消に効果的です。',
        category: 'バックオフィス',
        iconName: 'ClipboardList',
        author: 'Eudaimonia',
        version: '1.0.0',
        content: `# SOP（標準作業手順書）作成

## このスキルについて
業務手順をヒアリングし、誰でも再現できるSOP（Standard Operating Procedure）形式に構造化するスキルです。口頭説明やメモレベルの情報から、分岐条件・チェックリスト・注意事項を含む実用的なSOPドキュメントを生成します。

## 適用タイミング
ユーザーが業務手順書・マニュアル・SOPの作成を依頼したとき。または「業務を引き継げるようにしたい」「属人化を解消したい」といった依頼のとき。

## SOP設計ルール

### 文書構成
SOPは以下の構成で作成すること。
1. **文書情報**（タイトル・作成日・バージョン・作成者・承認者）
2. **目的と適用範囲**（この手順書が対象とする業務と範囲）
3. **前提条件**（必要な権限・ツール・事前準備）
4. **手順本体**（ステップバイステップの手順）
5. **分岐条件**（IF-THENで記述する条件分岐）
6. **チェックリスト**（完了確認用）
7. **トラブルシューティング**（よくある問題と対処法）
8. **改訂履歴**（テンプレート）

### 手順記述の原則
- 1ステップ=1アクション。複数のアクションを1ステップに詰め込まない
- 動詞で始める（「○○を開く」「○○に入力する」「○○を確認する」）
- 具体的なボタン名・画面名・メニュー名を明記する
- スクリーンショットの挿入箇所を【画像: ○○の画面】で指示する
- 所要時間の目安を各ステップに付記する

### 分岐条件の記述
- 条件分岐は「IF ○○の場合 → ステップXへ」の形式で記述
- 分岐は2段階まで。3段階以上のネストは別手順書に分離する
- 分岐図をテキストベースのフローで視覚化する

### チェックリスト設計
- 各大項目の完了時にチェックする項目を設定
- 「確認者」欄を設けてダブルチェック体制を想定
- ミスが起きやすいポイントには⚠マークを付記

### トーンと表現
- 新入社員でも理解できる平易な表現を使用する
- 専門用語には（）で補足説明を付ける
- 禁止事項は「○○しないこと」と明確に記述する

## 出力フォーマット
Markdown形式で出力。以下を必ず含むこと。
- 文書ヘッダー（タイトル・バージョン・作成日）
- 手順（番号付きリスト）
- 分岐条件（IF-THEN形式）
- チェックリスト（チェックボックス形式）
- トラブルシューティング（Q&A形式）

## 事前確認
以下が不明な場合はSOP作成前に確認すること。
- 対象業務の概要（何をする手順か）
- 現在の手順の流れ（ざっくりでOK）
- 対象読者（新人？外注？自分の備忘？）
- 使用ツール・システム`,
        tags: ['SOP', 'マニュアル', '手順書', '属人化解消', '業務改善'],
        timeSaved: '40分/回',
        difficulty: 'ふつう',
        examples: [{
            title: '請求書発行のSOP作成',
            context: '毎月の請求書発行業務を外注スタッフに引き継ぐためのSOP作成',
            input: '毎月の請求書発行を外注さんに引き継ぎたいです。今は自分がfreeeで手作業でやってます。月末にクライアントごとの稼働時間をスプレッドシートで集計して、freeeで請求書を作って、PDFでメール送付してます。クライアントは10社くらい。振込期限は翌月末。',
            output: `# SOP: 月次請求書発行業務

| 項目 | 内容 |
|------|------|
| 文書番号 | SOP-FIN-001 |
| バージョン | 1.0 |
| 作成日 | 2026年○月○日 |
| 作成者 | （あなたの名前） |
| 承認者 | ― |
| 次回見直し | 2026年○月○日 |

---

## 1. 目的と適用範囲

**目的**: 毎月の請求書を正確かつ期限通りにクライアントへ送付すること。

**適用範囲**: 全クライアント（約10社）の月次請求書発行業務。

**実施タイミング**: 毎月最終営業日〜翌月第2営業日

---

## 2. 前提条件

- [ ] freeeへのログインアカウントを持っていること
- [ ] 稼働時間集計スプレッドシートへのアクセス権があること
- [ ] クライアント別単価表（スプレッドシートのタブ「単価表」）を確認済みであること
- [ ] メール送信用のテンプレートを確認済みであること

---

## 3. 手順

### ステップ1: 稼働時間の集計（目安: 30分）
1. Googleスプレッドシート「稼働時間管理」を開く
2. 当月のシートを選択する
3. クライアントごとの合計稼働時間をタブ「月次集計」に転記する
4. ⚠ 転記後、各クライアントの合計時間が元データと一致しているか確認する

### ステップ2: 請求金額の算出（目安: 15分）
1. タブ「単価表」でクライアントごとの時間単価を確認する
2. 稼働時間 × 単価 = 請求金額 を算出する
3. 消費税（10%）を加算する

**IF** 単価が変更されている場合 → 社長に確認してからステップ3へ進む
**IF** 稼働時間が0のクライアントがある場合 → そのクライアントはスキップ

### ステップ3: freeeで請求書作成（目安: 1社あたり5分）
1. freeeにログインする
2. 「取引」→「請求書」→「新規作成」を選択
3. 取引先名をプルダウンから選択する
4. 品目に「業務委託費 ○月分」と入力
5. 数量に稼働時間、単価に時間単価を入力
6. 振込期限を「翌月末日」に設定
7. 【画像: freee請求書作成画面】
8. プレビューで金額・宛名・振込先を確認
9. ⚠ 振込先口座が正しいか必ず確認（過去に口座違いの事故あり）
10. 「PDF出力」をクリックしてダウンロード

### ステップ4: メール送付（目安: 1社あたり3分）
1. メールテンプレート（下記参照）を使用
2. 宛先・金額・振込期限を書き換える
3. PDFを添付する
4. ⚠ 送信前にTo・CC・添付ファイルを最終確認
5. 送信する

---

## 4. チェックリスト

- [ ] 全クライアントの稼働時間を集計した
- [ ] 集計値と元データの一致を確認した
- [ ] 全クライアントの請求書をfreeeで作成した
- [ ] 金額・振込先・期日をダブルチェックした
- [ ] 全クライアントにメール送付した
- [ ] 送信済みメールのフォルダに全件あることを確認した
- [ ] 完了報告を社長に送った

---

## 5. トラブルシューティング

**Q: freeeにログインできない**
A: パスワードリセットを試す。それでもダメな場合は社長に連絡。

**Q: クライアントの単価がわからない**
A: スプレッドシートのタブ「単価表」を確認。記載がなければ社長に確認。

**Q: メールが返ってきた（バウンス）**
A: クライアントの担当者変更の可能性あり。社長に報告して代替の連絡先を確認。`
        }],
        promptTemplate: `あなたは業務改善コンサルタントです。以下の業務手順をSOP（標準作業手順書）形式に構造化してください。

## 入力情報
- 業務名: [例: 毎月の請求書発行業務]
- 現在の手順（ざっくりでOK）: [例: 月末にスプレッドシートで集計→freeeで請求書作成→PDFでメール送付]
- 使用ツール: [例: Googleスプレッドシート、freee、Gmail]
- 対象読者: [例: 外注スタッフ（業務未経験）]
- よくあるミスやトラブル: [例: 振込先口座の選択ミス、消費税区分の誤り]

## 出力形式
1. 文書情報（タイトル・バージョン・作成日）
2. 目的と適用範囲
3. 前提条件（必要な権限・ツール）
4. 手順本体（番号付きステップ、各ステップに所要時間付き）
5. 分岐条件（IF-THEN形式）
6. チェックリスト（完了確認用）
7. トラブルシューティング（Q&A形式）

## ルール
- 1ステップ=1アクション。動詞で始める
- 具体的なボタン名・画面名を明記する
- スクリーンショット挿入箇所を【画像: ○○】で指示する
- ミスが起きやすいポイントには警告マークを付ける`,
        steps: [
            { number: 1, title: '業務の流れを口頭で説明する気持ちで書く', description: '現在やっている手順を、普段人に説明するようにざっくりと書き出します。完璧でなくてOKです' },
            { number: 2, title: 'プロンプトに入力して送信', description: 'テンプレートの[ ]を埋めてAIに送信。よくあるミスは必ず記載してください' },
            { number: 3, title: '生成されたSOPを検証', description: '実際に手順通りにやってみて、抜けている操作やわかりにくい表現がないか確認します' },
            { number: 4, title: 'NotionやWikiに掲載', description: '確認済みのSOPをチームのドキュメント管理ツールに掲載し、関係者に共有します' },
        ],
        useCases: [
            '業務を外注スタッフやアルバイトに引き継ぐとき',
            '属人化している業務を標準化したいとき',
            '業務の引き継ぎ資料を短時間で作りたいとき',
        ],
        tips: [
            '完璧なSOPを最初から目指さない。まず「ざっくり版」を作り、実際に使いながらブラッシュアップするのが効率的',
            'よくあるミスやトラブルを入力に含めると、チェックポイントや注意書きが自動で盛り込まれる',
            '作成後に「このSOPで新人が迷いそうなポイントはどこですか？」と聞くと、改善すべき箇所が見える',
        ],
    },
    {
        id: 'task-breakdown',
        name: 'タスク分解・WBS作成',
        description: 'プロジェクトや大きなタスクをWBS形式に分解。工数見積・依存関係・担当者割当を含む。',
        longDescription: '漠然としたプロジェクトや大きなタスクを、実行可能な単位に分解してWBS（Work Breakdown Structure）を作成します。各タスクの工数見積、依存関係、担当者の割当、マイルストーン設定まで行い、ガントチャートに転記できる形式で出力します。',
        category: 'バックオフィス',
        iconName: 'GitBranch',
        author: 'Eudaimonia',
        version: '1.0.0',
        content: `# タスク分解・WBS作成

## このスキルについて
プロジェクトや大きなタスクを実行可能な単位に分解し、WBS（Work Breakdown Structure）を作成するスキルです。工数見積・依存関係・担当者割当・マイルストーンの設定を行い、プロジェクト管理に必要な情報を一括で出力します。

## 適用タイミング
ユーザーがプロジェクトの計画、タスク分解、WBS作成、工数見積、スケジュール作成を依頼したとき。

## WBS設計ルール

### 分解の原則（100%ルール）
- 上位タスクの作業範囲を100%カバーするように下位タスクを設定する
- 漏れなくダブりなく（MECE）で分解する
- 最下位のタスク（ワークパッケージ）は1人が1日〜3日で完了できる粒度にする
- 分解の階層は最大4階層まで。それ以上はサブプロジェクトとして分離する

### 工数見積のルール
- 3点見積法を採用: 楽観値(O)・最可能値(M)・悲観値(P)から算出
- 期待値 = (O + 4M + P) / 6
- 見積は「人日」単位で表記（1人日 = 8時間）
- バッファは全体工数の15-20%を別途確保する
- 不確実性の高いタスクにはリスクフラグ🔴を付与する

### 依存関係の記述
- FS（Finish to Start）: 前タスク完了後に開始（デフォルト）
- SS（Start to Start）: 前タスク開始と同時に開始可能
- 依存関係はタスクIDで参照する（例: 「1.2.1完了後」）
- クリティカルパス（最長経路）を特定して明示する

### 担当者割当のルール
- 1タスクに対して主担当は1人（レビュアーは別途記載可）
- 担当者未定の場合は「要アサイン」と記載
- 同一担当者の負荷が集中していないか確認し、警告を出す

### マイルストーン設計
- プロジェクトの主要な節目にマイルストーンを設定する
- マイルストーンは成果物の完成や承認ポイントに紐づける
- 最低でもプロジェクト開始・中間レビュー・完了の3点は設定する

## 出力フォーマット
以下の構成で出力すること。

1. **プロジェクト概要**（目的・期間・体制）
2. **WBS表**（ID・タスク名・担当・工数・依存関係・開始日・終了日）
3. **マイルストーン一覧**
4. **クリティカルパス**の説明
5. **リスク・注意事項**
6. **ガントチャート用CSV**（スプレッドシートやBacklog等にインポート可能な形式）

## 事前確認
以下が不明な場合はWBS作成前に確認すること。
- プロジェクトの目的・ゴール
- 期限（デッドライン）
- メンバーと各自の役割・稼働可能日数
- 既に決まっている制約条件`,
        tags: ['WBS', 'プロジェクト管理', 'タスク分解', '工数見積', 'スケジュール'],
        timeSaved: '25分/回',
        difficulty: 'ふつう',
        examples: [{
            title: 'コーポレートサイトリニューアル',
            context: '3人チームで2ヶ月後に自社コーポレートサイトのリニューアルを完了させたい',
            input: '自社のコーポレートサイトをリニューアルしたいです。デッドラインは2ヶ月後。メンバーは自分（PM兼ディレクション）、外注デザイナー（週3日稼働）、外注エンジニア（週4日稼働）の3人です。WordPress→Astroに移行、ページ数は10ページくらい。コンテンツは既存の内容をベースに刷新します。',
            output: `## プロジェクト概要

| 項目 | 内容 |
|------|------|
| プロジェクト名 | コーポレートサイトリニューアル |
| 目的 | WordPress→Astro移行、デザイン・コンテンツ刷新 |
| 期間 | 2ヶ月（○月○日〜○月○日） |
| 規模 | 10ページ |
| 体制 | PM（あなた）・デザイナー（週3日）・エンジニア（週4日） |

---

## WBS

### フェーズ1: 企画・要件定義（Week 1-2）

| ID | タスク | 担当 | 工数 | 依存 | 開始 | 終了 |
|----|--------|------|------|------|------|------|
| 1.1 | 現サイトの課題整理 | PM | 0.5日 | - | W1月 | W1月 |
| 1.2 | ページ構成（サイトマップ）確定 | PM | 1日 | 1.1 | W1火 | W1水 |
| 1.3 | ワイヤーフレーム作成（主要5P） | デザイナー | 3日 | 1.2 | W1木 | W2月 |
| 1.4 | コンテンツ方針の決定 | PM | 1日 | 1.2 | W1木 | W1金 |
| 1.5 | 技術要件の整理（Astro構成） | エンジニア | 1日 | 1.2 | W1木 | W1金 |
| ★ | **MS1: 要件定義完了** | - | - | 1.3,1.4,1.5 | W2月 | W2月 |

### フェーズ2: デザイン（Week 2-4）

| ID | タスク | 担当 | 工数 | 依存 | 開始 | 終了 |
|----|--------|------|------|------|------|------|
| 2.1 | デザインコンセプト作成 | デザイナー | 2日 | MS1 | W2火 | W2木 |
| 2.2 | トップページデザイン | デザイナー | 2日 | 2.1 | W2金 | W3火 |
| 2.3 | 下層ページデザイン（9P） | デザイナー | 4日 | 2.2 | W3水 | W4月 |
| 2.4 | デザインレビュー・修正 | PM + デザイナー | 2日 | 2.3 | W4火 | W4水 |
| 2.5 | Astro環境構築・共通コンポーネント | エンジニア | 3日 | MS1 (SS) | W2火 | W2木 |
| ★ | **MS2: デザイン確定** | - | - | 2.4 | W4水 | W4水 |

### フェーズ3: 実装（Week 4-7）

| ID | タスク | 担当 | 工数 | 依存 | 開始 | 終了 |
|----|--------|------|------|------|------|------|
| 3.1 | トップページ実装 | エンジニア | 2日 | MS2 | W4木 | W5月 |
| 3.2 | 下層ページ実装（9P） | エンジニア | 5日 | 3.1 | W5火 | W6月 |
| 3.3 | コンテンツ入稿・リライト | PM | 5日 | MS2 (SS) | W4木 | W5木 |
| 3.4 | レスポンシブ対応・調整 | エンジニア | 2日 | 3.2 | W6火 | W6水 |
| 3.5 | お問い合わせフォーム実装 | エンジニア | 1日 | 3.2 | W6木 | W6木 |
| ★ | **MS3: 実装完了** | - | - | 3.3,3.4,3.5 | W6木 | W6木 |

### フェーズ4: テスト・公開（Week 7-8）

| ID | タスク | 担当 | 工数 | 依存 | 開始 | 終了 |
|----|--------|------|------|------|------|------|
| 4.1 | 表示テスト（主要ブラウザ・デバイス） | PM + エンジニア | 2日 | MS3 | W7月 | W7火 |
| 4.2 | SEO設定（meta・OGP・サイトマップ） | エンジニア | 1日 | MS3 | W7月 | W7月 |
| 4.3 | バグ修正 | エンジニア | 2日 | 4.1 | W7水 | W7木 |
| 4.4 | 本番デプロイ・DNS切替 | エンジニア | 0.5日 | 4.3 | W8月 | W8月 |
| 4.5 | 公開後チェック・リダイレクト確認 | PM | 0.5日 | 4.4 | W8月 | W8月 |
| ★ | **MS4: 公開完了** | - | - | 4.5 | W8月 | W8月 |

---

## クリティカルパス
1.1 → 1.2 → 1.3 → 2.1 → 2.2 → 2.3 → 2.4 → 3.1 → 3.2 → 3.4 → 4.1 → 4.3 → 4.4 → 4.5

**注意**: デザイナーのワイヤーフレーム〜デザイン工程がクリティカルパス上にあります。デザイナーの週3日稼働がボトルネックになる可能性があるため、フェーズ2はスケジュール厳守を特に意識してください。

---

## リスク・注意事項
- 🔴 デザイナーの稼働が週3日のため、デザインフェーズの遅延リスクが高い
- 🔴 コンテンツのリライト（3.3）は並行作業だが、PM一人に負荷が集中する
- バッファ: 全体で3日分を確保済み（W7金〜W8月の間）
- WordPress→Astro移行でURL構造が変わるため、リダイレクト設定を忘れないこと`
        }],
        promptTemplate: `あなたはプロジェクト管理の専門家です。以下のプロジェクトをWBS（Work Breakdown Structure）に分解してください。

## 入力情報
- プロジェクト名: [例: コーポレートサイトリニューアル]
- 目的・ゴール: [例: WordPress→Astro移行、デザイン刷新、10ページ]
- デッドライン: [例: 2ヶ月後]
- メンバーと稼働: [例: PM（自分）、外注デザイナー（週3日）、外注エンジニア（週4日）]
- 制約条件: [例: コンテンツは既存ベースで刷新]

## 出力形式
1. プロジェクト概要（目的・期間・体制の表）
2. WBS表（ID・タスク名・担当・工数・依存関係・開始・終了）
3. マイルストーン一覧
4. クリティカルパスの説明
5. リスク・注意事項

## ルール
- 最下位タスクは1人が1〜3日で完了できる粒度にする
- 依存関係を「前タスクID完了後」の形式で記述する
- バッファは全体工数の15〜20%を確保する
- 同一担当者の負荷が集中していたら警告を出す`,
        steps: [
            { number: 1, title: 'プロジェクトのゴールと制約を整理', description: 'デッドライン、メンバーの稼働状況、制約条件を確認します' },
            { number: 2, title: 'プロンプトに入力して送信', description: 'テンプレートの[ ]を埋めてAIに送信します。制約条件は漏れなく記載してください' },
            { number: 3, title: 'WBSを確認・調整', description: '出力されたWBSの工数や依存関係を確認し、現実と合わない部分を調整します' },
            { number: 4, title: 'プロジェクト管理ツールに反映', description: 'WBSをBacklog、Notion、スプレッドシートなどに転記してチームに共有します' },
        ],
        useCases: [
            '漠然としたプロジェクトを具体的なタスクに分解したいとき',
            'メンバーの負荷状況を見ながらスケジュールを立てたいとき',
            'クリティカルパスを特定してリスク管理をしたいとき',
        ],
        tips: [
            'WBSは一度作ったら終わりではなく、プロジェクト進行中に定期的に見直すのが重要',
            'クリティカルパス上のタスクが遅れると全体が遅れる。ここにリソースを集中させるのが基本',
            '「このWBSで漏れているタスクはありますか？」と追加質問すると、見落としを防げる',
        ],
    },
];
